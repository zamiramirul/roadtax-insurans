<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Renew Roadtax & Insurans ‚Ä¢ Premium</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#020617;
  --accent:#facc15;
  --card:#0b122b;
  --text:#f5f5f5;
  --muted:#bbb;
  --green:#25D366;
  --radius:12px;
}
/* === KEEP ALL EXISTING STYLES EXACTLY AS BEFORE === */
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:Inter,Arial,sans-serif;background:var(--primary);color:var(--text);line-height:1.5;overflow-x:hidden;}
a{text-decoration:none;color:inherit;}
section{padding:40px 15px;}
h2{font-size:24px;text-align:center;color:var(--accent);margin-bottom:20px;}
p{text-align:center;color:var(--muted);margin-bottom:10px;}

/* Hero */
.hero{position:relative;height:320px;background:url('https://images.unsplash.com/photo-1616627569093-43c8be49aaf3?crop=entropy&cs=tinysrgb&fit=max&w=1400&h=600&q=80') center/cover no-repeat;display:flex;justify-content:center;align-items:center;text-align:center;}
.hero-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.65);}
.hero-inner{position:relative;z-index:2;}
.hero-inner h1{font-size:28px;font-weight:800;color:var(--accent);text-shadow:0 0 10px rgba(250,204,21,0.7);}
.hero-inner p{font-size:16px;color:var(--muted);margin-top:8px;}

/* Social Badges */
.social-badges{text-align:center;margin:10px 0;}
.badge{display:inline-block;background:rgba(250,204,21,0.15);color:var(--accent);padding:6px 12px;border-radius:999px;font-size:13px;font-weight:700;margin:4px;}

/* Benefits & Steps */
.benefits, .steps{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin-top:20px;}
.benefit,.step{background:var(--card);padding:20px;border-radius:var(--radius);flex:1 1 180px;text-align:center;}
.benefit h3,.step h4{color:var(--accent);margin-bottom:8px;}
.benefit p,.step p{color:var(--muted);font-size:14px;}

/* Testimonial Carousel */
.testimonial-carousel{position:relative;overflow:hidden;max-width:600px;margin:20px auto;border-radius:var(--radius);}
.testimonial-track{display:flex;transition:transform 0.5s ease;}
.testimonial{min-width:100%;background:var(--card);padding:20px;text-align:center;border-radius:var(--radius);}
.testimonial h4{color:var(--accent);margin-bottom:8px;}
.testimonial p{color:var(--muted);font-size:14px;}

/* --- NEW: Live Visitor (kept) --- */
.live-visitor{
  text-align:center;
  font-weight:700;
  color:#4ade80;
  font-size:15px;
  margin-top:10px;
}

/* --- NEW: Urgency Bar (kept) --- */
.urgency-box{
  background:#0c132e;
  padding:15px;
  border-radius:14px;
  margin:20px auto;
  max-width:500px;
  text-align:center;
  border:1px solid rgba(250,204,21,0.3);
}
.urgency-title{color:var(--accent);font-size:15px;margin-bottom:8px;font-weight:800;}
.urgency-bar{
  width:100%;height:14px;background:#222;border-radius:20px;overflow:hidden;
}
.urgency-fill{
  height:100%;width:62%;background:linear-gradient(90deg,#facc15,#f59e0b);
}

/* WhatsApp Form */
.wrap{max-width:500px;margin:40px auto;}
label{display:block;margin-top:12px;margin-bottom:6px;font-weight:700;color:var(--accent);font-size:15px;text-align:center;}
.select-wrap{position:relative;width:100%;}
.select-wrap::after{content:"‚ñº";position:absolute;right:16px;top:50%;transform:translateY(-50%);color:var(--accent);}
select,input{width:100%;height:50px;padding:0 16px;font-size:15px;border-radius:var(--radius);border:2px solid rgba(250,204,21,0.25);outline:none;background:var(--primary);color:var(--accent);font-weight:700;text-align:center;appearance:none;transition:0.2s;}
select:focus,input:focus{border-color:var(--accent);box-shadow:0 0 8px rgba(250,204,21,0.4);}
input::placeholder{color:rgba(250,204,21,0.45);}
button{margin-top:25px;width:100%;padding:15px;border:none;font-size:18px;font-weight:900;border-radius:14px;background:linear-gradient(135deg,#facc15,#f59e0b);color:#000;cursor:pointer;box-shadow:0 10px 20px rgba(250,204,21,0.35);transition:0.25s;}
button:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(250,204,21,0.45);}
.status{margin-top:10px;text-align:center;color:var(--accent);font-weight:700;min-height:20px;}

/* Floating WhatsApp CTA */
.cta-floating{position:fixed;bottom:20px;right:20px;background:var(--green);color:#fff;padding:12px 18px;border-radius:50px;font-weight:700;box-shadow:0 6px 12px rgba(0,0,0,0.2);z-index:999;text-align:center;}
.cta-floating:hover{transform:translateY(-2px);transition:0.2s;}

/* Notification Popup (kept) */
.noti-popup{
  position:fixed;
  left:20px;
  bottom:20px;
  background:#0b122b;
  padding:14px 18px;
  border-radius:14px;
  border:1px solid rgba(250,204,21,0.3);
  color:var(--accent);
  font-size:14px;
  font-weight:700;
  z-index:9999;
  box-shadow:0 0 12px rgba(0,0,0,0.4);
  display:none;
}

/* === MINIMAL EXIT POPUP (ISOLATED, NON-INVASIVE) === */
#exitMinimal {
  position: fixed;
  left: 50%;
  top: 48%;
  transform: translate(-50%, -50%) scale(.98);
  min-width: 260px;
  max-width: 88%;
  background: rgba(11,17,30,0.98);
  border: 1px solid rgba(250,204,21,0.18);
  box-shadow: 0 8px 28px rgba(0,0,0,0.55);
  padding: 12px 14px;
  border-radius: 10px;
  z-index: 120000;
  display: none; /* start hidden */
  text-align: center;
}
#exitMinimal.show { display:block; animation: popSmall .22s ease forwards; transform: translate(-50%, -50%) scale(1); }
@keyframes popSmall { from {opacity:0; transform: translate(-50%, -50%) scale(.96);} to {opacity:1; transform: translate(-50%, -50%) scale(1);} }

#exitMinimal h4 { color: var(--accent); font-size:15px; margin:6px 0; font-weight:800; }
#exitMinimal p { color: var(--muted); font-size:13px; margin:6px 0 10px; line-height:1.3; }
#exitMinimal .btn-row { display:flex; gap:8px; justify-content:center; align-items:center; }
#exitMinimal .btn-whatsapp {
  background: var(--green);
  color:#001;
  padding:8px 10px;
  border-radius:8px;
  font-weight:800;
  font-size:13px;
  text-decoration:none;
}
#exitMinimal .btn-close {
  background: transparent;
  color: rgba(250,204,21,0.95);
  border: 1px solid rgba(250,204,21,0.12);
  padding:7px 10px;
  border-radius:8px;
  font-weight:700;
  font-size:13px;
  cursor:pointer;
}

/* responsive nicety */
@media(max-width:420px){
  #exitMinimal { left:50%; top:52%; }
}
</style>
</head>
<body>

<!-- (ALL page content kept exactly as you provided) -->

<!-- Hero Banner -->
<section class="hero">
  <div class="hero-overlay"></div>
  <div class="hero-inner">
    <h1>üöÄ Renew Roadtax & Insurans Premium</h1>
    <p>Proses cepat & mudah, e-cover sampai terus ke WhatsApp anda. Tanpa beratur!</p>
  </div>
</section>

<div class="social-badges">
  <span class="badge">Terpercaya sejak 2015</span>
  <span class="badge">>5000 pelanggan puas hati</span>
  <span class="badge">Fast & Easy Processing</span>
</div>

<!-- NEW Live Visitor -->
<div class="live-visitor" id="liveVisitor">üîµ 8 pelawat sedang melihat halaman ini</div>

<!-- Benefits -->
<section>
<h2>Kelebihan Servis Kami</h2>
<div class="benefits">
  <div class="benefit"><h3>üöÄ Proses Pantas</h3><p>e-Cover dihantar terus ke WhatsApp dalam 5 minit sahaja.</p></div>
  <div class="benefit"><h3>üõ° Perlindungan Lengkap</h3><p>Pilih 1st/3rd Party, Cover Cermin, Banjir & Unlimited Towing + PA.</p></div>
  <div class="benefit"><h3>üì≤ Mudah & Digital</h3><p>Semua selesai tanpa perlu ke pejabat, pantas & selamat.</p></div>
</div>
</section>

<!-- Steps -->
<section>
<h2>Langkah Mudah</h2>
<div class="steps">
  <div class="step"><h4>1Ô∏è‚É£ Pilih Kenderaan & Coverage</h4><p>Sesuaikan mengikut keperluan anda.</p></div>
  <div class="step"><h4>2Ô∏è‚É£ Isi Borang WhatsApp</h4><p>Borang ringkas & terus hantar.</p></div>
  <div class="step"><h4>3Ô∏è‚É£ Terima e-Cover</h4><p>Dokumen rasmi dihantar ke WhatsApp.</p></div>
  <div class="step"><h4>4Ô∏è‚É£ Enjoy Servis Premium</h4><p>Proses cepat, selamat & tanpa beratur.</p></div>
</div>
</section>

<!-- Testimonial Carousel -->
<section>
<h2>Testimonial Pelanggan</h2>
<div class="testimonial-carousel">
  <div class="testimonial-track" id="testimonialTrack">
    <div class="testimonial"><h4>Afiq</h4><p>"Servis cepat & mudah, sangat puas hati!"</p></div>
    <div class="testimonial"><h4>Siti</h4><p>"Renew roadtax & insurans tanpa beratur, terbaik!"</p></div>
    <div class="testimonial"><h4>Hafiz</h4><p>"Trusted & e-cover terus ke WhatsApp!"</p></div>
  </div>
</div>
</section>

<!-- Urgency Bar -->
<div class="urgency-box">
  <div class="urgency-title">Proses Harian Tinggi ‚Äî Tempoh menunggu makin meningkat</div>
  <div class="urgency-bar"><div class="urgency-fill"></div></div>
</div>

<!-- WhatsApp Form (NOT EDITED) -->
<section class="wrap">
<h2>BORANG SEBUT HARGA</h2>

<form id="waForm">

    <label>Jenis Kenderaan</label>
    <div class="select-wrap">
        <select id="jenis" required>
            <option value="">‚Äî Pilih ‚Äî</option>
            <option>Kereta</option>
            <option>Motosikal</option>
        </select>
    </div>

    <label>Jenis Coverage</label>
    <div class="select-wrap">
        <select id="coverage" required>
            <option value="">‚Äî Pilih ‚Äî</option>
            <option>1st Party</option>
            <option>3rd Party</option>
        </select>
    </div>

    <label id="labelCermin">Cover Cermin</label>
    <div class="select-wrap">
        <select id="cermin">
            <option>Ya</option>
            <option>Tidak</option>
        </select>
    </div>

    <label id="labelBanjir">Perlindungan Banjir</label>
    <div class="select-wrap">
        <select id="banjir">
            <option>Ya</option>
            <option>Tidak</option>
        </select>
    </div>

    <label id="labelTowing">Unlimited Towing + PA</label>
    <div class="select-wrap">
        <select id="towing">
            <option>Nak</option>
            <option>Tak Nak</option>
        </select>
    </div>

    <label>Roadtax Digital</label>
    <div class="select-wrap">
        <select id="digital">
            <option>Nak</option>
            <option>Tak Nak</option>
        </select>
    </div>

    <label>Nama Penuh</label>
    <input id="nama" required placeholder="Contoh: Ahmad Bin Ali">

    <label>No. Whatsapp</label>
    <input id="wasap" required placeholder="Contoh: 0179699926">

    <button type="submit">‚úÖ HANTAR KE WHATSAPP</button>
    <div class="status" id="status"></div>

</form>
</section>

<!-- Floating WhatsApp CTA -->
<a class="cta-floating" href="https://wa.me/60179699926?text=Hi,%20RenewRoadtaxMurah.%20Saya%20nak%20renew%20insurans" target="_blank">
  WhatsApp üöÄ
</a>

<!-- Notification Popup -->
<div class="noti-popup" id="notiPopup">Seseorang baru sahaja renew insurans ‚Ä¢ 7 minit lalu</div>

<!-- === Minimal Exit Popup (STYLE A) === -->
<div id="exitMinimal" aria-hidden="true" role="dialog" aria-label="Popup sebelum keluar">
  <h4>Sebelum anda keluar‚Ä¶</h4>
  <p>nak kami kira anggaran insurans &amp; roadtax anda secara <strong>PERCUMA</strong>?</p>
  <div class="btn-row">
    <a class="btn-whatsapp" href="https://wa.me/60179699926?text=Sebelum%20keluar%20-%20saya%20nak%20anggaran%20insurans%20%26%20roadtax">Terus WhatsApp</a>
    <button class="btn-close" id="exitMinimalClose" type="button">Tutup</button>
  </div>
</div>

<footer style="text-align:center;color:var(--accent);font-size:13px;margin-top:20px;">¬© 2025 Renew Premium ‚Ä¢ Semua Hak Terpelihara</footer>

<script>
// === Keep existing behaviours (testimonials, live visitor, noti) ===
let track=document.getElementById("testimonialTrack");
let idx=0;
setInterval(()=>{ if(track && track.children.length){ idx=(idx+1)%track.children.length; track.style.transform=`translateX(-${idx*100}%)`; } },4000);

function randomVisitor(){ let v=Math.floor(Math.random()*6)+6; const el=document.getElementById("liveVisitor"); if(el) el.textContent="üîµ "+v+" pelawat sedang melihat halaman ini"; }
setInterval(randomVisitor,6000);

function showNoti(){ const b=document.getElementById("notiPopup"); if(!b) return; b.style.display="block"; setTimeout(()=>b.style.display="none",4200); }
setTimeout(showNoti,3000);
setInterval(showNoti,20000);

// === Form logic (unchanged) ===
function hide(label,field){ if(label) label.style.display="none"; if(field && field.parentElement) field.parentElement.style.display="none"; }
function show(label,field){ if(label) label.style.display="block"; if(field && field.parentElement) field.parentElement.style.display="block"; }
function updateFields(){
  const jenis = document.getElementById("jenis") ? document.getElementById("jenis").value : "";
  const coverage = document.getElementById("coverage") ? document.getElementById("coverage").value : "";
  const labelCermin = document.getElementById("labelCermin");
  const cermin = document.getElementById("cermin");
  const labelBanjir = document.getElementById("labelBanjir");
  const banjir = document.getElementById("banjir");
  const labelTowing = document.getElementById("labelTowing");
  const towing = document.getElementById("towing");
  if(labelCermin && cermin){ show(labelCermin,cermin); show(labelBanjir,banjir); show(labelTowing,towing); }
  if(jenis==="Motosikal"){ hide(labelCermin,cermin); hide(labelBanjir,banjir); hide(labelTowing,towing); }
  if(jenis==="Kereta" && coverage==="3rd Party"){ hide(labelCermin,cermin); hide(labelBanjir,banjir); }
}
document.getElementById("jenis").addEventListener("change", updateFields);
document.getElementById("coverage").addEventListener("change", updateFields);
updateFields();

document.getElementById("waForm").addEventListener("submit", function(e){
  e.preventDefault();
  const statusEl=document.getElementById("status");
  const nama=document.getElementById("nama").value||'';
  const wasap=document.getElementById("wasap").value||'';
  const jenis=document.getElementById("jenis").value||'‚Äî';
  const coverage=document.getElementById("coverage").value||'‚Äî';
  const cermin=document.getElementById("cermin"); const coverCermin=(cermin && cermin.parentElement.style.display!=='none')?cermin.value:'Tiada';
  const banjir=document.getElementById("banjir"); const banj=(banjir && banjir.parentElement.style.display!=='none')?banjir.value:'Tiada';
  const towing=document.getElementById("towing"); const tow=(towing && towing.parentElement.style.display!=='none')?towing.value:'Tiada';
  const digital=document.getElementById("digital") ? document.getElementById("digital").value : '';
  const msg=`BORANG SEBUTHARGA INSURANS\n\nNama: ${nama}\nNo. Whatsapp: ${wasap}\nJenis Kenderaan: ${jenis}\nCoverage: ${coverage}\nCover Cermin: ${coverCermin}\nBanjir: ${banj}\nTowing: ${tow}\nRoadtax Digital: ${digital}`;
  statusEl.textContent='Membuka WhatsApp...';
  window.open('https://wa.me/60179699926?text='+encodeURIComponent(msg),'_blank');
  setTimeout(()=>statusEl.textContent='Selesai. WhatsApp dibuka.',1200);
});

// === Minimal Exit Intent (desktop + mobile small detection) ===
(function(){
  const popup = document.getElementById('exitMinimal');
  const closeBtn = document.getElementById('exitMinimalClose');
  let shown = false;

  function showPopup(){
    if(shown || !popup) return;
    shown = true;
    popup.classList.add('show');
    popup.setAttribute('aria-hidden','false');
  }
  function hidePopup(){
    if(!popup) return;
    popup.classList.remove('show');
    popup.setAttribute('aria-hidden','true');
  }

  // Desktop: mouse leaves viewport at top
  document.addEventListener('mouseout', function(e){
    if(e.clientY < 10) showPopup();
  });

  // Mobile: detect quick upward scroll near top
  let lastScroll = window.scrollY || 0;
  let lastTime = Date.now();
  window.addEventListener('scroll', function(){
    const now = Date.now();
    const current = window.scrollY || 0;
    const diff = lastScroll - current;
    const dt = Math.max(now - lastTime, 1);
    const speed = diff / dt; // px per ms
    // if user scrolls up fast and is near top, show popup (minimal)
    if(speed > 0.35 && current < 150) showPopup();
    lastScroll = current; lastTime = now;
  }, {passive:true});

  // Optional: intercept mobile back (soft)
  let popped = false;
  window.addEventListener('popstate', function(){
    if(!shown){
      showPopup();
      history.pushState(null, null, location.href);
    }
    popped = true;
  });
  try { history.pushState(null, null, location.href); } catch(e){}

  // close handlers
  if(closeBtn) closeBtn.addEventListener('click', hidePopup);
  // also hide if user clicks outside popup (very minimal)
  document.addEventListener('click', function(e){
    if(!popup) return;
    if(popup.classList.contains('show')){
      const rect = popup.getBoundingClientRect();
      // click outside?
      if(e.clientX < rect.left || e.clientX > rect.right || e.clientY < rect.top || e.clientY > rect.bottom){
        hidePopup();
      }
    }
  });
})();
</script>

</body>
</html>
